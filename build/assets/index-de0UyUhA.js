import{j as e,S as M,c as q,r as j,F as P,C as z,d as D,U as E,e as Q,I as ee,f as O,g as se,h as ae,i as te,k as re,X as le,T as ne,P as de,O as ie,W as oe,L as V,D as R,l as H,m as ce,n as xe,o as ue}from"./vendor-react-go35eUTB.js";import{al as me,p as he,am as L,an as C,ao as ge,ap as je}from"./vendor-DWyp7Zf9.js";import{R as _,P as pe,a as fe,C as ve,T as $,B as be,b as Ne,X as ye,Y as we,c as Se}from"./vendor-recharts-Bsog_jtu.js";import"./vendor-radix-Dc_FVRD7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function d(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=d(r);fetch(r.href,l)}})();function h(...a){return me(he(a))}const Te=L("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function m({className:a,variant:s,size:d,asChild:n=!1,...r}){const l=n?M:"button";return e.jsx(l,{"data-slot":"button",className:h(Te({variant:s,size:d,className:a})),...r})}function I({className:a,type:s,...d}){return e.jsx("input",{type:s,"data-slot":"input",className:h("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...d})}function k({className:a,...s}){return e.jsx(q,{"data-slot":"label",className:h("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}function Ce({onLogin:a}){const[s,d]=j.useState(!1),[n,r]=j.useState(""),[l,c]=j.useState(""),x=g=>{g.preventDefault(),a()};return e.jsx("div",{className:"size-full flex items-center justify-center bg-muted/30",children:e.jsxs("div",{className:"w-full max-w-md p-8 bg-card border border-border rounded-lg shadow-sm",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"mb-2",children:"Billzy"}),e.jsx("p",{className:"text-muted-foreground",children:"From Bill to GST in One Click"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"email",children:"Email"}),e.jsx(I,{id:"email",type:"email",placeholder:"Enter your email",value:n,onChange:g=>r(g.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"password",children:"Password"}),e.jsx(I,{id:"password",type:"password",placeholder:"Enter your password",value:l,onChange:g=>c(g.target.value),required:!0})]}),!s&&e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"button",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Forgot Password?"})}),e.jsx(m,{type:"submit",className:"w-full",children:s?"Sign Up":"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>d(!s),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:s?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})]})})}function F({navigateTo:a,currentScreen:s}){const d=[{label:"Dashboard",screen:"dashboard"},{label:"Upload Bills",screen:"upload"},{label:"Reports",screen:"reports"}];return e.jsx("header",{className:"border-b border-border bg-background",children:e.jsxs("div",{className:"mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-foreground",children:"Billzy"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"From Bill to GST in One Click"})]}),e.jsx("nav",{className:"flex gap-1",children:d.map(n=>e.jsx("button",{onClick:()=>a(n.screen),className:`px-4 py-2 rounded-md transition-colors ${s===n.screen?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent/50 hover:text-foreground"}`,children:n.label},n.screen))})]}),e.jsx("button",{className:"text-muted-foreground hover:text-foreground transition-colors",children:"Settings"})]})})}function p({className:a,...s}){return e.jsx("div",{"data-slot":"card",className:h("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",a),...s})}function N({className:a,...s}){return e.jsx("div",{"data-slot":"card-header",className:h("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...s})}function y({className:a,...s}){return e.jsx("h4",{"data-slot":"card-title",className:h("leading-none",a),...s})}function f({className:a,...s}){return e.jsx("div",{"data-slot":"card-content",className:h("px-6 [&:last-child]:pb-6",a),...s})}function Ie({navigateTo:a,invoiceCount:s}){const d=[{title:"Invoices Processed",value:s.toString(),icon:P,color:"text-blue-600"},{title:"Errors Found",value:Math.floor(s*.15).toString(),icon:z,color:"text-red-600"},{title:"Validated",value:Math.floor(s*.85).toString(),icon:D,color:"text-green-600"}];return e.jsxs("div",{className:"size-full flex flex-col",children:[e.jsx(F,{navigateTo:a,currentScreen:"dashboard"}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"mx-auto px-6 py-8 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-2",children:"Welcome to Billzy"}),e.jsx("p",{className:"text-muted-foreground",children:"Automate your GST filing process with AI-powered data extraction and validation."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:d.map(n=>{const r=n.icon;return e.jsxs(p,{children:[e.jsxs(N,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(y,{className:"text-sm text-muted-foreground",children:n.title}),e.jsx(r,{className:`h-5 w-5 ${n.color}`})]}),e.jsx(f,{children:e.jsx("div",{className:"text-2xl",children:n.value})})]},n.title)})}),e.jsx(p,{className:"border-2 border-dashed border-primary/20 bg-muted/30",children:e.jsxs(f,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"mb-4 p-4 rounded-full bg-primary/10",children:e.jsx(E,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"mb-2",children:"Ready to process invoices?"}),e.jsx("p",{className:"text-muted-foreground mb-6 text-center max-w-md",children:"Upload your bills and let Billzy automatically extract and validate GST data"}),e.jsx(m,{size:"lg",onClick:()=>a("upload"),children:"Upload Bills"})]})}),s>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{variant:"outline",className:"h-auto py-4 justify-start",onClick:()=>a("validation"),children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"mb-1",children:"View & Validate Data"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Review extracted invoice data"})]})}),e.jsx(m,{variant:"outline",className:"h-auto py-4 justify-start",onClick:()=>a("reports"),children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"mb-1",children:"View Reports"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"See processing summary and download files"})]})})]})]})]})})]})}function K({className:a,value:s,...d}){return e.jsx(Q,{"data-slot":"progress",className:h("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...d,children:e.jsx(ee,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}function ke({navigateTo:a,onFileUpload:s}){const[d,n]=j.useState(!1),[r,l]=j.useState(!1),[c,x]=j.useState(0),g=i=>{i.preventDefault(),n(!0)},w=()=>{n(!1)},u=i=>{i.preventDefault(),n(!1);const b=Array.from(i.dataTransfer.files);o(b)},v=i=>{const b=i.target.files?Array.from(i.target.files):[];o(b)},o=i=>{l(!0),x(0);const b=setInterval(()=>{x(G=>G>=100?(clearInterval(b),100):G+10)},200);setTimeout(()=>{const G=[{id:"1",invoiceNo:"INV-2025-001",vendor:"Tech Solutions Pvt Ltd",gstin:"29ABCDE1234F1Z5",total:25e3,status:"validated",date:"2025-01-15"},{id:"2",invoiceNo:"INV-2025-002",vendor:"Office Supplies Co",gstin:"27XYZAB5678G2W4",total:8500,status:"validated",date:"2025-01-16"},{id:"3",invoiceNo:"INV-2025-003",vendor:"Software Services Inc",gstin:"INVALID_GSTIN",total:45e3,status:"error",errors:["Invalid GSTIN format"],date:"2025-01-17"},{id:"4",invoiceNo:"INV-2025-004",vendor:"Marketing Agency",gstin:"19PQRST9012H3K6",total:32e3,status:"validated",date:"2025-01-18"},{id:"5",invoiceNo:"INV-2025-005",vendor:"Consulting Partners",gstin:"",total:0,status:"error",errors:["Missing GSTIN","Invalid total amount"],date:"2025-01-19"}];l(!1),C.success(`Successfully uploaded ${i.length} file(s)`),s(G)},2500)},t=[{name:"Excel",icon:O,formats:".xlsx, .xls"},{name:"CSV",icon:P,formats:".csv"},{name:"PDF",icon:P,formats:".pdf"},{name:"Images",icon:se,formats:".jpg, .png"}];return e.jsxs("div",{className:"size-full flex flex-col",children:[e.jsx(F,{navigateTo:a,currentScreen:"upload"}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"mx-auto px-6 py-8 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-2",children:"Upload Bills"}),e.jsx("p",{className:"text-muted-foreground",children:"Upload your invoices and Billzy will automatically extract GST data"})]}),e.jsx("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${d?"border-primary bg-primary/5":"border-border bg-muted/30"}`,onDragOver:g,onDragLeave:w,onDrop:u,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"mb-4 p-4 rounded-full bg-primary/10",children:e.jsx(E,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"mb-2",children:"Drag & Drop Files Here"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"or click the button below to select files"}),e.jsx("input",{type:"file",id:"file-upload",className:"hidden",multiple:!0,accept:".xlsx,.xls,.csv,.pdf,.jpg,.jpeg,.png",onChange:v}),e.jsx(m,{asChild:!0,children:e.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:"Select Files"})})]})}),r&&e.jsxs("div",{className:"mt-6 p-6 bg-card border border-border rounded-lg",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{children:"Uploading files..."}),e.jsxs("span",{className:"text-muted-foreground",children:[c,"%"]})]}),e.jsx(K,{value:c})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"mb-4",children:"Supported Formats"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map(i=>{const b=i.icon;return e.jsxs("div",{className:"p-4 bg-card border border-border rounded-lg text-center",children:[e.jsx(b,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"mb-1",children:i.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:i.formats})]},i.name)})})]}),e.jsxs("div",{className:"mt-8 p-4 bg-muted/50 border border-border rounded-lg",children:[e.jsx("h4",{className:"mb-2",children:"Instructions"}),e.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsx("li",{children:"• Upload all your invoices in supported formats"}),e.jsx("li",{children:"• AI will automatically extract invoice number, vendor, GSTIN, and amounts"}),e.jsx("li",{children:"• You can review and edit the extracted data before generating files"}),e.jsx("li",{children:"• Multiple files can be uploaded at once"})]})]})]})})]})}function X({className:a,...s}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:h("w-full caption-bottom text-sm",a),...s})})}function Y({className:a,...s}){return e.jsx("thead",{"data-slot":"table-header",className:h("[&_tr]:border-b",a),...s})}function W({className:a,...s}){return e.jsx("tbody",{"data-slot":"table-body",className:h("[&_tr:last-child]:border-0",a),...s})}function U({className:a,...s}){return e.jsx("tr",{"data-slot":"table-row",className:h("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...s})}function T({className:a,...s}){return e.jsx("th",{"data-slot":"table-head",className:h("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})}function S({className:a,...s}){return e.jsx("td",{"data-slot":"table-cell",className:h("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})}const Ge=L("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function B({className:a,variant:s,asChild:d=!1,...n}){const r=d?M:"span";return e.jsx(r,{"data-slot":"badge",className:h(Ge({variant:s}),a),...n})}function De({...a}){return e.jsx(ae,{"data-slot":"dialog",...a})}function Fe({...a}){return e.jsx(de,{"data-slot":"dialog-portal",...a})}function Ue({className:a,...s}){return e.jsx(ie,{"data-slot":"dialog-overlay",className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...s})}function ze({className:a,children:s,...d}){return e.jsxs(Fe,{"data-slot":"dialog-portal",children:[e.jsx(Ue,{}),e.jsxs(te,{"data-slot":"dialog-content",className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...d,children:[s,e.jsxs(re,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(le,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ae({className:a,...s}){return e.jsx("div",{"data-slot":"dialog-header",className:h("flex flex-col gap-2 text-center sm:text-left",a),...s})}function Pe({className:a,...s}){return e.jsx(ne,{"data-slot":"dialog-title",className:h("text-lg leading-none font-semibold",a),...s})}function Ve({navigateTo:a,invoices:s,onUpdateInvoices:d}){const[n,r]=j.useState(null),[l,c]=j.useState(null),x=s.filter(t=>t.status==="error").length,g=s.filter(t=>t.status==="validated").length,w=()=>{const t=s.map(i=>i.status==="error"?{...i,gstin:i.gstin||"29ABCDE1234F1Z5",total:i.total||1e4,status:"validated",errors:void 0}:i);d(t),C.success("All errors auto-fixed successfully!")},u=t=>{r(t),c({...t})},v=()=>{if(!l)return;const t=s.map(i=>i.id===l.id?{...l,status:"validated",errors:void 0}:i);d(t),r(null),c(null),C.success("Invoice updated successfully!")},o=()=>{if(x>0){C.error("Please fix all errors before continuing");return}a("generate")};return e.jsxs("div",{className:"size-full flex flex-col",children:[e.jsx(F,{navigateTo:a,currentScreen:"upload"}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"mx-auto px-6 py-8 max-w-7xl",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-2",children:"Data Extraction & Validation"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and validate the extracted invoice data"})]}),e.jsxs("div",{className:"flex gap-3",children:[x>0&&e.jsxs(m,{variant:"outline",onClick:w,children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Auto-Fix Errors"]}),e.jsx(m,{onClick:o,children:"Continue to Generate Files"})]})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(D,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Validated"})]}),e.jsx("div",{className:"text-2xl",children:g})]}),e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(z,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{children:"Errors"})]}),e.jsx("div",{className:"text-2xl",children:x})]})]}),e.jsx("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:e.jsxs(X,{children:[e.jsx(Y,{children:e.jsxs(U,{children:[e.jsx(T,{children:"Invoice No."}),e.jsx(T,{children:"Vendor"}),e.jsx(T,{children:"GSTIN"}),e.jsx(T,{children:"Date"}),e.jsx(T,{className:"text-right",children:"Total (₹)"}),e.jsx(T,{children:"Status"})]})}),e.jsx(W,{children:s.map(t=>e.jsxs(U,{className:`cursor-pointer ${t.status==="error"?"bg-red-500/5":""}`,onClick:()=>u(t),children:[e.jsx(S,{children:t.invoiceNo}),e.jsx(S,{children:t.vendor}),e.jsx(S,{className:t.status==="error"?"text-red-600":"",children:t.gstin||"Missing"}),e.jsx(S,{children:t.date}),e.jsx(S,{className:"text-right",children:t.total.toLocaleString("en-IN")}),e.jsx(S,{children:t.status==="validated"?e.jsx(B,{className:"bg-green-500/10 text-green-700 border-green-500/20",children:"Validated"}):e.jsx(B,{variant:"destructive",children:"Error"})})]},t.id))})]})})]})}),e.jsx(De,{open:n!==null,onOpenChange:()=>r(null),children:e.jsxs(ze,{className:"max-w-2xl",children:[e.jsx(Ae,{children:e.jsx(Pe,{children:n?.status==="error"?"Fix Invoice Error":"Invoice Details"})}),l&&e.jsxs("div",{className:"space-y-4",children:[n?.errors&&e.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-md",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(z,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-1",children:"Errors Found:"}),e.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:n.errors.map((t,i)=>e.jsxs("li",{children:["• ",t]},i))})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Invoice Number"}),e.jsx(I,{value:l.invoiceNo,onChange:t=>c({...l,invoiceNo:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Date"}),e.jsx(I,{type:"date",value:l.date,onChange:t=>c({...l,date:t.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Vendor Name"}),e.jsx(I,{value:l.vendor,onChange:t=>c({...l,vendor:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"GSTIN"}),e.jsx(I,{value:l.gstin,onChange:t=>c({...l,gstin:t.target.value}),placeholder:"29ABCDE1234F1Z5"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Total Amount (₹)"}),e.jsx(I,{type:"number",value:l.total,onChange:t=>c({...l,total:parseFloat(t.target.value)||0})})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[e.jsx(m,{variant:"outline",onClick:()=>r(null),children:"Cancel"}),e.jsx(m,{onClick:v,children:"Save Changes"})]})]})]})})]})}function Re({navigateTo:a,invoices:s}){const[d,n]=j.useState(!1),[r,l]=j.useState(!1),[c,x]=j.useState(!1),[g,w]=j.useState(!1),u=s.length,v=s.reduce((A,Z)=>A+Z.total,0),o=s.filter(A=>A.status==="validated").length,t=()=>{x(!0),setTimeout(()=>{x(!1),n(!0),C.success("Tally-ready file generated successfully!")},1500)},i=()=>{w(!0),setTimeout(()=>{w(!1),l(!0),C.success("GST-ready JSON file generated successfully!")},1500)},b=()=>{C.success("Tally file downloaded!")},G=()=>{C.success("GST JSON file downloaded!")};return e.jsxs("div",{className:"size-full flex flex-col",children:[e.jsx(F,{navigateTo:a,currentScreen:"upload"}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"mx-auto px-6 py-8 max-w-5xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-2",children:"Generate Tally & GST Files"}),e.jsx("p",{className:"text-muted-foreground",children:"Create export-ready files for Tally and GST portal"})]}),e.jsxs(p,{className:"mb-6",children:[e.jsx(N,{children:e.jsx(y,{children:"File Summary"})}),e.jsx(f,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground mb-1",children:"Total Invoices"}),e.jsx("div",{className:"text-2xl",children:u})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground mb-1",children:"Validated"}),e.jsx("div",{className:"text-2xl text-green-600",children:o})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground mb-1",children:"Total Amount"}),e.jsxs("div",{className:"text-2xl",children:["₹",v.toLocaleString("en-IN")]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(p,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(O,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(y,{children:"Tally-Ready File"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Excel format for direct import to Tally"})]})]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Format:"}),e.jsx("span",{children:"Excel (.xlsx)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Records:"}),e.jsx("span",{children:u})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx("span",{children:d?e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),"Ready"]}):"Not generated"})]})]}),d?e.jsxs(m,{className:"w-full",variant:"outline",onClick:b,children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Download Tally File"]}):e.jsx(m,{className:"w-full",onClick:t,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):"Generate Tally File"})]})]}),e.jsxs(p,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:e.jsx(H,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx(y,{children:"GST-Ready JSON"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"JSON format for GST portal upload"})]})]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Format:"}),e.jsx("span",{children:"JSON (.json)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Records:"}),e.jsx("span",{children:u})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx("span",{children:r?e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),"Ready"]}):"Not generated"})]})]}),r?e.jsxs(m,{className:"w-full",variant:"outline",onClick:G,children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Download GST JSON"]}):e.jsx(m,{className:"w-full",onClick:i,disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):"Generate GST JSON"})]})]})]}),e.jsxs("div",{className:"mt-8 flex gap-3",children:[e.jsx(m,{variant:"outline",onClick:()=>a("validation"),children:"Back to Validation"}),e.jsx(m,{variant:"outline",onClick:()=>a("reports"),children:"View Reports"})]})]})})]})}const Be=L("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ee({className:a,variant:s,...d}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:h(Be({variant:s}),a),...d})}function Oe({className:a,...s}){return e.jsx("div",{"data-slot":"alert-description",className:h("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...s})}function Le({navigateTo:a,invoices:s}){const[d,n]=j.useState(!1),[r,l]=j.useState(0),[c,x]=j.useState(!1),[g,w]=j.useState(null),u=s.length,v=s.filter(i=>i.status==="validated").length,o=s.reduce((i,b)=>i+b.total,0),t=()=>{n(!0),l(0);const i=setInterval(()=>{l(b=>b>=100?(clearInterval(i),100):b+5)},150);setTimeout(()=>{n(!1),x(!0),w({success:v,failed:u-v}),C.success("Upload to GST Portal completed!")},3e3)};return e.jsxs("div",{className:"size-full flex flex-col",children:[e.jsx(F,{navigateTo:a,currentScreen:"upload"}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"mx-auto px-6 py-8 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-2",children:"Upload to GST Portal"}),e.jsx("p",{className:"text-muted-foreground",children:"Upload your validated invoices directly to the GST portal"})]}),c?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"mb-6 border-2 border-green-500/20 bg-green-500/5",children:e.jsx(f,{className:"py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4 p-4 rounded-full bg-green-500/10 inline-block",children:e.jsx(D,{className:"h-12 w-12 text-green-600"})}),e.jsx("h2",{className:"mb-2",children:"Upload Successful!"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Your invoices have been successfully uploaded to the GST portal"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs(p,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-green-600"}),e.jsx(y,{children:"Successfully Uploaded"})]})}),e.jsxs(f,{children:[e.jsx("div",{className:"text-3xl text-green-600",children:g?.success||0}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Invoices uploaded successfully"})]})]}),g&&g.failed>0&&e.jsxs(p,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-red-600"}),e.jsx(y,{children:"Failed"})]})}),e.jsxs(f,{children:[e.jsx("div",{className:"text-3xl text-red-600",children:g.failed}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Invoices with errors (not uploaded)"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{onClick:()=>a("reports"),children:"View Reports"}),e.jsx(m,{variant:"outline",onClick:()=>a("dashboard"),children:"Back to Dashboard"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(p,{className:"mb-6",children:[e.jsx(N,{children:e.jsx(y,{children:"Upload Confirmation"})}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"text-muted-foreground mb-1",children:"Total Invoices"}),e.jsx("div",{className:"text-2xl",children:u})]}),e.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[e.jsx("div",{className:"text-muted-foreground mb-1",children:"Ready to Upload"}),e.jsx("div",{className:"text-2xl text-green-600",children:v})]})]}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),e.jsxs("span",{children:["₹",o.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"GST Period:"}),e.jsx("span",{children:"January 2025"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Return Type:"}),e.jsx("span",{children:"GSTR-1"})]})]}),u-v>0&&e.jsxs(Ee,{variant:"destructive",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsxs(Oe,{children:[u-v," invoice(s) have errors and will not be uploaded. Please fix them first."]})]})]})})]}),d?e.jsx(p,{children:e.jsxs(f,{className:"py-8",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(V,{className:"h-12 w-12 mx-auto mb-4 text-primary animate-spin"}),e.jsx("h3",{className:"mb-2",children:"Uploading to GST Portal..."}),e.jsx("p",{className:"text-muted-foreground",children:"Please wait while we upload your invoices"})]}),e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Progress: ",r,"%"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.floor(r/100*v)," / ",v," invoices"]})]}),e.jsx(K,{value:r})]})}):e.jsx(p,{className:"border-2 border-dashed border-primary/20 bg-muted/30",children:e.jsx(f,{className:"py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4 p-4 rounded-full bg-primary/10 inline-block",children:e.jsx(E,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"mb-2",children:"Ready to Upload"}),e.jsxs("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:["Click the button below to start uploading ",v," validated invoices to the GST portal"]}),e.jsx(m,{size:"lg",onClick:t,children:"Upload to GST Portal"})]})})})]}),!c&&!d&&e.jsxs("div",{className:"mt-8 p-4 bg-muted/50 border border-border rounded-lg",children:[e.jsx("h4",{className:"mb-2",children:"Important Notes"}),e.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsx("li",{children:"• Ensure your GST credentials are configured in Settings"}),e.jsx("li",{children:"• Upload will be done securely using encrypted connection"}),e.jsx("li",{children:"• You can track the upload status in real-time"}),e.jsx("li",{children:"• Failed invoices can be fixed and re-uploaded separately"})]})]})]})})]})}function _e({navigateTo:a,invoices:s}){const d=s.length,n=s.filter(o=>o.status==="validated").length,r=s.filter(o=>o.status==="error").length,l=s.reduce((o,t)=>o+t.total,0),c=d>0?l/d:0,x=[{name:"Validated",value:n,color:"#22c55e"},{name:"Errors",value:r,color:"#ef4444"}],w=s.reduce((o,t)=>{const i=o.find(b=>b.vendor===t.vendor);return i?(i.amount+=t.total,i.count+=1):o.push({vendor:t.vendor,amount:t.total,count:1}),o},[]).sort((o,t)=>t.amount-o.amount).slice(0,5),u=[{file:"tally_export_jan_2025.xlsx",type:"Tally",date:"2025-10-20",size:"245 KB"},{file:"gst_data_jan_2025.json",type:"GST JSON",date:"2025-10-20",size:"128 KB"}],v=o=>{C.success(`Downloaded ${o}`)};return e.jsxs("div",{className:"size-full flex flex-col",children:[e.jsx(F,{navigateTo:a,currentScreen:"reports"}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"mx-auto px-6 py-8 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-2",children:"Summary & Reports"}),e.jsx("p",{className:"text-muted-foreground",children:"View processing summary and download generated files"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(p,{children:[e.jsx(N,{className:"pb-2",children:e.jsx(y,{className:"text-sm text-muted-foreground",children:"Total Invoices"})}),e.jsx(f,{children:e.jsx("div",{className:"text-2xl",children:d})})]}),e.jsxs(p,{children:[e.jsx(N,{className:"pb-2",children:e.jsx(y,{className:"text-sm text-muted-foreground",children:"Validated"})}),e.jsx(f,{children:e.jsx("div",{className:"text-2xl text-green-600",children:n})})]}),e.jsxs(p,{children:[e.jsx(N,{className:"pb-2",children:e.jsx(y,{className:"text-sm text-muted-foreground",children:"Total Amount"})}),e.jsx(f,{children:e.jsxs("div",{className:"text-2xl",children:["₹",(l/1e3).toFixed(1),"K"]})})]}),e.jsxs(p,{children:[e.jsx(N,{className:"pb-2",children:e.jsx(y,{className:"text-sm text-muted-foreground",children:"Avg. Invoice"})}),e.jsx(f,{children:e.jsxs("div",{className:"text-2xl",children:["₹",(c/1e3).toFixed(1),"K"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(p,{children:[e.jsx(N,{children:e.jsx(y,{children:"Status Distribution"})}),e.jsx(f,{children:e.jsx("div",{className:"h-64",children:d>0?e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(pe,{children:[e.jsx(fe,{data:x,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,value:t})=>`${o}: ${t}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:x.map((o,t)=>e.jsx(ve,{fill:o.color},`cell-${t}`))}),e.jsx($,{})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No data to display"})})})]}),e.jsxs(p,{children:[e.jsx(N,{children:e.jsx(y,{children:"Top Vendors by Amount"})}),e.jsx(f,{children:e.jsx("div",{className:"h-64",children:w.length>0?e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(be,{data:w,children:[e.jsx(Ne,{strokeDasharray:"3 3"}),e.jsx(ye,{dataKey:"vendor",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),e.jsx(we,{tick:{fontSize:12}}),e.jsx($,{}),e.jsx(Se,{dataKey:"amount",fill:"#3b82f6"})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No data to display"})})})]})]}),e.jsxs(p,{className:"mb-8",children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{children:"Download History"}),e.jsx(xe,{className:"h-5 w-5 text-muted-foreground"})]})}),e.jsx(f,{children:e.jsxs(X,{children:[e.jsx(Y,{children:e.jsxs(U,{children:[e.jsx(T,{children:"File Name"}),e.jsx(T,{children:"Type"}),e.jsx(T,{children:"Date"}),e.jsx(T,{children:"Size"}),e.jsx(T,{className:"text-right",children:"Action"})]})}),e.jsx(W,{children:u.length>0?u.map((o,t)=>e.jsxs(U,{children:[e.jsxs(S,{className:"flex items-center gap-2",children:[o.type==="Tally"?e.jsx(O,{className:"h-4 w-4 text-blue-600"}):e.jsx(H,{className:"h-4 w-4 text-green-600"}),o.file]}),e.jsx(S,{children:e.jsx(B,{variant:"outline",children:o.type})}),e.jsx(S,{children:o.date}),e.jsx(S,{children:o.size}),e.jsx(S,{className:"text-right",children:e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>v(o.file),children:e.jsx(R,{className:"h-4 w-4"})})})]},t)):e.jsx(U,{children:e.jsx(S,{colSpan:5,className:"text-center text-muted-foreground",children:"No files generated yet"})})})]})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{onClick:()=>a("dashboard"),children:"Back to Dashboard"}),e.jsx(m,{variant:"outline",onClick:()=>a("upload"),children:"Upload More Invoices"})]})]})})]})}const J=({...a})=>{const{theme:s="system"}=ge();return e.jsx(je,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...a})};function $e(){const[a,s]=j.useState("login"),[d,n]=j.useState(!1),[r,l]=j.useState([]),c=()=>{n(!0),s("dashboard")},x=u=>{s(u)},g=u=>{l(u),s("validation")},w=u=>{l(u)};return d?e.jsxs("div",{className:"size-full bg-background",children:[a==="dashboard"&&e.jsx(Ie,{navigateTo:x,invoiceCount:r.length}),a==="upload"&&e.jsx(ke,{navigateTo:x,onFileUpload:g}),a==="validation"&&e.jsx(Ve,{navigateTo:x,invoices:r,onUpdateInvoices:w}),a==="generate"&&e.jsx(Re,{navigateTo:x,invoices:r}),a==="gst-upload"&&e.jsx(Le,{navigateTo:x,invoices:r}),a==="reports"&&e.jsx(_e,{navigateTo:x,invoices:r}),e.jsx(J,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ce,{onLogin:c}),e.jsx(J,{})]})}ue.createRoot(document.getElementById("root")).render(e.jsx($e,{}));
